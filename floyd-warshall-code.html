<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Floyd–Warshall Code Preview — Prajnapuri</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
    <style>
      body { background: #f3f6f9; color: #333; font-family: 'Lato', sans-serif; padding: 60px 20px; }
      .container-modal { max-width: 1000px; margin: 0 auto; background: white; border-radius: 8px; box-shadow: 0 12px 40px rgba(0,0,0,0.08); overflow: hidden; }
      .modal-header { padding: 20px 24px; border-bottom: 1px solid #e1e8ed; display: flex; justify-content: space-between; align-items: center; }
      .modal-title { font-weight: 700; font-size: 18px; color: #222; }
      .modal-subtitle { color: #777; font-size: 13px; }
      .top-actions { display: flex; gap: 8px; }
      .btn-action { background: #1f6feb; color: white; border: none; padding: 8px 14px; border-radius: 6px; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-flex; align-items: center; gap: 6px; font-size: 14px; }
      .btn-action:hover { background: #0d47a1; }
      .btn-action.btn-close-modal { background: #2b87c9; }
      .modal-body { padding: 24px; }
      .row-content { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
      @media (max-width: 768px) { .row-content { grid-template-columns: 1fr; } }
      .col-left h6 { color: #2a6a9e; font-weight: 700; font-size: 14px; margin-top: 16px; margin-bottom: 8px; }
      .col-left h6:first-child { margin-top: 0; }
      .col-left p { color: #555; font-size: 14px; line-height: 1.6; margin-bottom: 12px; }
      .col-right h6 { color: #2a6a9e; font-weight: 700; font-size: 14px; margin-bottom: 12px; }
      pre.code-block { background: #0b1220; color: #cfe5ff; padding: 16px; border-radius: 6px; overflow: auto; max-height: 500px; font-size: 12px; line-height: 1.5; }
      .code-line { display: flex; }
      .ln { width: 35px; text-align: right; padding-right: 12px; color: #6b7a89; user-select: none; flex-shrink: 0; }
      .code { white-space: pre; font-family: Consolas, 'Courier New', monospace; }
    </style>
  </head>
  <body>
    <div class="container-modal">
      <div class="modal-header">
        <div>
          <div class="modal-title">All-Pairs Shortest Routes — Floyd–Warshall</div>
          <div class="modal-subtitle">Case2.cpp — C++ (read-only)</div>
        </div>
        <div class="top-actions">
        
          <a href="transportation.html" class="btn-action btn-close-modal"><i class="fas fa-times"></i> Close</a>
        </div>
      </div>

      <div class="modal-body">
        <div class="row-content">
          <div class="col-left">
            <h6>Problem Statement</h6>
            <p>To optimize traffic flow across an entire city network, we need to compute shortest travel times between every pair of intersections. The Floyd–Warshall algorithm efficiently solves this all-pairs shortest path problem, even when edges have varying weights or negative weights exist.</p>
            
            <h6>Solution Approach</h6>
            <p>The SmartTrafficNetwork class implements Floyd–Warshall to precompute routes between all location pairs. It uses a 2D matrix to represent travel times and iteratively improves path estimates by considering intermediate nodes.</p>
            <p>This approach is ideal for offline route planning, congestion analysis, and city-wide traffic optimization. The algorithm runs in O(n³) time and provides a complete view of network connectivity and distances.</p>
          </div>

          <div class="col-right">
            <h6>C++ Implementation</h6>
            <pre class="code-block" id="codeBlock"><code><div class="code-line">
              #include <iostream>
#include <string>
#define MAX 100
using namespace std;

class SmartTrafficNetwork {
public:
    int numLocations;
    int travelTime[MAX][MAX];
    string locationNames[MAX];

    SmartTrafficNetwork(int locations);
    void inputTravelTimes();
    void displayTravelTimeMatrix();
    void computeAllShortestRoutes();
    void displayAllShortestPaths();
};

SmartTrafficNetwork::SmartTrafficNetwork(int locations) {
    numLocations = locations;
}

void SmartTrafficNetwork::inputTravelTimes() {
    cout << "Enter the names of " << numLocations << " locations (e.g., JunctionA, Market, Hospital...):\n";
    for (int i = 1; i <= numLocations; i++) {
        cin >> locationNames[i];
    }

    cout << "\nEnter the travel time matrix (use 999 for no direct road):\n";
    for (int i = 1; i <= numLocations; i++) {
        for (int j = 1; j <= numLocations; j++) {
            cin >> travelTime[i][j];
        }
    }
}

void SmartTrafficNetwork::displayTravelTimeMatrix() {
    cout << "\nTravel Time Matrix (in minutes):\n\t";
    for (int j = 1; j <= numLocations; j++) {
        cout << locationNames[j] << "\t";
    }
    cout << endl;

    for (int i = 1; i <= numLocations; i++) {
        cout << locationNames[i] << "\t";
        for (int j = 1; j <= numLocations; j++) {
            if (travelTime[i][j] == 999)
                cout << "INF\t";
            else
                cout << travelTime[i][j] << "\t";
        }
        cout << endl;
    }
}

void SmartTrafficNetwork::computeAllShortestRoutes() {
    for (int k = 1; k <= numLocations; k++) {
        for (int i = 1; i <= numLocations; i++) {
            for (int j = 1; j <= numLocations; j++) {
                if (travelTime[i][k] != 999 && travelTime[k][j] != 999 &&
                    (travelTime[i][k] + travelTime[k][j] < travelTime[i][j])) {
                    travelTime[i][j] = travelTime[i][k] + travelTime[k][j];
                }
            }
        }
    }
}

void SmartTrafficNetwork::displayAllShortestPaths() {
    cout << "\nAll-Pairs Shortest Travel Times Between Locations:\n";
    displayTravelTimeMatrix();
}

int main() {
    int numLocations;
    cout << "Enter the number of city locations (e.g., intersections, key points): ";
    cin >> numLocations;

    SmartTrafficNetwork cityTraffic(numLocations);
    cityTraffic.inputTravelTimes();
    cityTraffic.displayTravelTimeMatrix();
    cityTraffic.computeAllShortestRoutes();
    cityTraffic.displayAllShortestPaths();

    return 0;
}

            </div></code></pre>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.getElementById('copyBtn').addEventListener('click', function(){
        const text = Array.from(document.querySelectorAll('#codeBlock .code')).map(n=>n.textContent).join('\n');
        navigator.clipboard.writeText(text).then(()=>{
          this.textContent = 'Copied!';
          setTimeout(()=> this.innerHTML = '<i class="fas fa-copy"></i> Copy', 1500);
        });
      });
    </script>
  </body>
</html>
